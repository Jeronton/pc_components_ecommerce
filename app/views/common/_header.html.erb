<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <span class="navbar-brand">PC ComponentsÂ®</span>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <div class="dropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="productsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Products
          </button>
          <div class="dropdown-menu" aria-labelledby="productsDropdown">
            <%= link_to "All Products", products_path, class: "dropdown-item" %>
            <% Category.all.each do |category| %>
              <%= link_to category.name, "#{products_path}?category=#{category.id}", class: "dropdown-item" %>
            <% end %>
          </div>
        </div>
        <li class="nav-item <%= 'active' if controller_name == 'contact'%>">
          <%= link_to "Contact", 'contact', class: "nav-link" %>
        </li>
        <li class="nav-item <%= 'active' if controller_name == 'about'%>">
          <%= link_to "About", 'about', class: "nav-link" %>
        </li>
      </ul>
      <ul class="navbar-nav">
        <% if user_signed_in? %>
          <li class="nav-item <%= 'active' if controller_name == 'sessions' && action_name  == 'destroy'%>">
            <%= link_to "Sign Out", destroy_user_session_path, method: :delete, class: "nav-link" %>
          </li>
          <li class="nav-item <%= 'active' if controller_name == 'orders' && action_name  == 'index' %>">
            <%= link_to "Orders", orders_path, method: :get, class: "nav-link" %>
          </li>
        <% else %>
          <li class="nav-item <%= 'active' if controller_name == 'sessions' && action_name  == 'new'%>">
            <%= link_to "Sign In", user_session_path, class: "nav-link" %>
          </li>
          <li class="nav-item <%= 'active' if controller_name == 'registrations' && action_name  == 'new'%>">
            <%= link_to "Sign Up", new_user_registration_path, class: "nav-link" %>
          </li>
        <% end %>
        <li class="nav-item <%= 'active' if controller_name == 'cart'%>">
          <%# <%= link_to "Cart <span class=\"badge badge-light\">#{cart.size}</span>", cart_index_path, class: "nav-link" %>
          <%= link_to cart_index_path, class: "nav-link" do %>
            Cart <span class="badge badge-primary"><%= cart.size %></span>
          <% end %>
        </li>
      </ul>
    </div>
  </nav>
</header>