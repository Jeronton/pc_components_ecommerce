<div class="d-lg-flex justify-content-between">
    <h1>
      Our Products
      <% unless @category.nil? %>
        - <%= @category.name %>
      <% end %>
    </h1>
    <form action="<%= products_path %>" class="form-inline">
      <div class="form-group">
        <label class="sr-only" for="search">Search Input</label>
        <input
          type="text"
          id="search"
          name="search"
          placeholder="Search"
          class="form-control mb-2 mr-sm-1"
          <% unless @searched_value.nil? %>
            value="<%=@searched_value%>"
          <% end %>
        >
        <label class="sr-only" for="category">Search Filter Selection</label>
        <select class="form-control mb-2 mr-sm-1" id="category" name="category">
          <option value="-1">All Categories</option>
          <% categories.each do |category| %>
            <option
              value="<%= category.id %>"
              <% if !@category.nil? &&@category.id == category.id %>
                selected
              <% end %>
              >
              <%= category.name %>
            </option>
          <% end %>
        </select>
        <button type="submit" class="btn btn-primary mb-2">Search</button>
      </div>
    </form>
</div>



<%# <div class="btn-group">
  <button type="button" class="btn btn-primary">Action</button>
  <button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <span class="sr-only">Toggle Dropdown</span>
  </button>
  <div class="dropdown-menu">
    <h6 class="dropdown-header">Search by category</h6>
    <a class="dropdown-item" href="#">Action</a>
    <a class="dropdown-item" href="#">Another action</a>
    <a class="dropdown-item" href="#">Something else here</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="#">Separated link</a>
  </div>
</div> %>

<div>
  <%= render partial: 'product',
             collection: @products,
             locals: { show_desc: false, show_add_cart: false, show_card: true } %>
</div>